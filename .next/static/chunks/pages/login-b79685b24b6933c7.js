(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{4506:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(7876),n=a(8230),r=a.n(n);let l=e=>{let{children:t}=e;return(0,s.jsxs)("div",{className:"container mt-4",children:[(0,s.jsxs)("nav",{className:"mb-4",children:[(0,s.jsx)(r(),{href:"/",className:"me-3",children:"Home"}),(0,s.jsx)(r(),{href:"/login",className:"me-3",children:"Login"}),(0,s.jsx)(r(),{href:"/register",children:"Register"})]}),t]})}},5794:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(6323)}])},6323:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(7876),n=a(4232),r=a(9099),l=a(4506);function o(){let[e,t]=(0,n.useState)(""),[a,o]=(0,n.useState)(""),i=(0,r.useRouter)(),c=async t=>{t.preventDefault();let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),n=await s.json();s.ok?(localStorage.setItem("token",n.token),localStorage.setItem("role",n.role),i.push("/dashboard/".concat(n.role))):alert(n.msg)};return(0,s.jsxs)(l.A,{children:[(0,s.jsx)("h2",{children:"Login"}),(0,s.jsxs)("form",{onSubmit:c,children:[(0,s.jsx)("input",{className:"form-control mb-2",type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value)}),(0,s.jsx)("input",{className:"form-control mb-2",type:"password",placeholder:"Password",value:a,onChange:e=>o(e.target.value)}),(0,s.jsx)("button",{className:"btn btn-primary",children:"Login"})]})]})}},9099:(e,t,a)=>{e.exports=a(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[230,636,593,792],()=>t(5794)),_N_E=e.O()}]);